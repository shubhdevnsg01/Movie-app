{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects\\\\n14\\\\source\\\\src\\\\components\\\\EditMovie.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { useNavigate, useOutletContext, useParams } from \"react-router-dom\";\nimport Input from \"./form/Input\";\nimport Select from \"./form/Select\";\nimport TextArea from \"./form/TextArea\";\nimport Checkbox from \"./form/Checkbox\";\nimport Swal from \"sweetalert2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst EditMovie = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const {\n    jwtToken\n  } = useOutletContext();\n  const [error, setError] = useState(null);\n  const [errors, setErrors] = useState([]);\n  const mpaaOptions = [{\n    id: \"G\",\n    value: \"G\"\n  }, {\n    id: \"PG\",\n    value: \"PG\"\n  }, {\n    id: \"PG13\",\n    value: \"PG13\"\n  }, {\n    id: \"R\",\n    value: \"R\"\n  }, {\n    id: \"NC17\",\n    value: \"NC17\"\n  }, {\n    id: \"18A\",\n    value: \"18A\"\n  }];\n\n  const hasError = key => {\n    return errors.indexOf(key) !== -1;\n  };\n\n  const [movie, setMovie] = useState({\n    id: 0,\n    title: \"\",\n    release_date: \"\",\n    runtime: \"\",\n    mpaa_rating: \"\",\n    description: \"\",\n    genres: [],\n    genres_array: [Array(13).fill(false)]\n  }); // get id from the URL\n\n  let {\n    id\n  } = useParams();\n\n  if (id === undefined) {\n    id = 0;\n  }\n\n  useEffect(() => {\n    if (jwtToken === \"\") {\n      navigate(\"/login\");\n      return;\n    }\n\n    if (id === 0) {\n      // adding a movie\n      setMovie({\n        id: 0,\n        title: \"\",\n        release_date: \"\",\n        runtime: \"\",\n        mpaa_rating: \"\",\n        description: \"\",\n        genres: [],\n        genres_array: [Array(13).fill(false)]\n      });\n      const headers = new Headers();\n      headers.append(\"Content-Type\", \"application/json\");\n      const requestOptions = {\n        method: \"GET\",\n        headers: headers\n      };\n      fetch(`/genres`, requestOptions).then(response => response.json()).then(data => {\n        const checks = [];\n        data.forEach(g => {\n          checks.push({\n            id: g.id,\n            checked: false,\n            genre: g.genre\n          });\n        });\n        setMovie(m => ({ ...m,\n          genres: checks,\n          genres_array: []\n        }));\n      }).catch(err => {\n        console.log(err);\n      });\n    } else {\n      // editing an existing movie\n      const headers = new Headers();\n      headers.append(\"Content-Type\", \"application/json\");\n      headers.append(\"Authorization\", \"Bearer \" + jwtToken);\n      const requestOptions = {\n        method: \"GET\",\n        headers: headers\n      };\n      fetch(`/admin/movies/${id}`, requestOptions).then(response => {\n        if (response.status !== 200) {\n          setError(\"Invalid response code: \" + response.status);\n        }\n\n        return response.json();\n      }).then(data => {\n        // fix release date\n        data.movie.release_date = new Date(data.movie.release_date).toISOString().split(\"T\")[0];\n        const checks = [];\n        data.genres.forEach(g => {\n          if (data.movie.genres_array.indexOf(g.id) !== -1) {\n            checks.push({\n              id: g.id,\n              checked: true,\n              genre: g.genre\n            });\n          } else {\n            checks.push({\n              id: g.id,\n              checked: false,\n              genre: g.genre\n            });\n          }\n        }); // set state\n\n        setMovie({ ...data.movie,\n          genres: checks\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }, [id, jwtToken, navigate]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    let errors = [];\n    let required = [{\n      field: movie.title,\n      name: \"title\"\n    }, {\n      field: movie.release_date,\n      name: \"release_date\"\n    }, {\n      field: movie.runtime,\n      name: \"runtime\"\n    }, {\n      field: movie.description,\n      name: \"description\"\n    }, {\n      field: movie.mpaa_rating,\n      name: \"mpaa_rating\"\n    }];\n    required.forEach(function (obj) {\n      if (obj.field === \"\") {\n        errors.push(obj.name);\n      }\n    });\n\n    if (movie.genres_array.length === 0) {\n      Swal.fire({\n        title: \"Error!\",\n        text: \"You must choose at least one genre!\",\n        icon: \"error\",\n        confirmButtonText: \"OK\"\n      });\n      errors.push(\"genres\");\n    }\n\n    setErrors(errors);\n\n    if (errors.length > 0) {\n      return false;\n    } // passed validation, so save changes\n\n\n    const headers = new Headers();\n    headers.append(\"Content-Type\", \"application/json\");\n    headers.append(\"Authorization\", \"Bearer \" + jwtToken); // assume we are adding a new movie\n\n    let method = \"PUT\";\n\n    if (movie.id > 0) {\n      method = \"PATCH\";\n    }\n\n    const requestBody = movie; // we need to covert the values in JSON for release date (to date)\n    // and for runtime to int\n\n    requestBody.release_date = new Date(movie.release_date);\n    requestBody.runtime = parseInt(movie.runtime, 10);\n    let requestOptions = {\n      body: JSON.stringify(requestBody),\n      method: method,\n      headers: headers,\n      credentials: \"include\"\n    };\n    fetch(`/admin/movies/${movie.id}`, requestOptions).then(response => response.json()).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        navigate(\"/manage-catalogue\");\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const handleChange = () => event => {\n    let value = event.target.value;\n    let name = event.target.name;\n    setMovie({ ...movie,\n      [name]: value\n    });\n  };\n\n  const handleCheck = (event, position) => {\n    console.log(\"handleCheck called\");\n    console.log(\"value in handleCheck:\", event.target.value);\n    console.log(\"checked is\", event.target.checked);\n    console.log(\"position is\", position);\n    let tmpArr = movie.genres;\n    tmpArr[position].checked = !tmpArr[position].checked;\n    let tmpIDs = movie.genres_array;\n\n    if (!event.target.checked) {\n      tmpIDs.splice(tmpIDs.indexOf(event.target.value));\n    } else {\n      tmpIDs.push(parseInt(event.target.value, 10));\n    }\n\n    setMovie({ ...movie,\n      genres_array: tmpIDs\n    });\n  };\n\n  const confirmDelete = () => {\n    Swal.fire({\n      title: 'Delete movie?',\n      text: \"You cannot undo this action!\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Yes, delete it!'\n    }).then(result => {\n      if (result.isConfirmed) {\n        let headers = new Headers();\n        headers.append(\"Authorization\", \"Bearer \" + jwtToken);\n        const requestOptions = {\n          method: \"DELETE\",\n          headers: headers\n        };\n        fetch(`/admin/movies/${movie.id}`, requestOptions).then(response => response.json()).then(data => {\n          if (data.error) {\n            console.log(data.error);\n          } else {\n            navigate(\"/manage-catalogue\");\n          }\n        }).catch(err => {\n          console.log(err);\n        });\n      }\n    });\n  };\n\n  if (error !== null) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error.message]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 12\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Add/Edit Movie\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"hidden\",\n          name: \"id\",\n          value: movie.id,\n          id: \"id\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          title: \"Title\",\n          className: \"form-control\",\n          type: \"text\",\n          name: \"title\",\n          value: movie.title,\n          onChange: handleChange(\"title\"),\n          errorDiv: hasError(\"title\") ? \"text-danger\" : \"d-none\",\n          errorMsg: \"Please enter a title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          title: \"Release Date\",\n          className: \"form-control\",\n          type: \"date\",\n          name: \"release_date\",\n          value: movie.release_date,\n          onChange: handleChange(\"release_date\"),\n          errorDiv: hasError(\"release_date\") ? \"text-danger\" : \"d-none\",\n          errorMsg: \"Please enter a release date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          title: \"Runtime\",\n          className: \"form-control\",\n          type: \"text\",\n          name: \"runtime\",\n          value: movie.runtime,\n          onChange: handleChange(\"runtime\"),\n          errorDiv: hasError(\"runtime\") ? \"text-danger\" : \"d-none\",\n          errorMsg: \"Please enter a runtime\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          title: \"MPAA Rating\",\n          name: \"mpaa_rating\",\n          options: mpaaOptions,\n          value: movie.mpaa_rating,\n          onChange: handleChange(\"mpaa_rating\"),\n          placeHolder: \"Choose...\",\n          errorMsg: \"Please choose\",\n          errorDiv: hasError(\"mpaa_rating\") ? \"text-danger\" : \"d-none\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n          title: \"Description\",\n          name: \"description\",\n          value: movie.description,\n          rows: \"3\",\n          onChange: handleChange(\"description\"),\n          errorMsg: \"Please enter a description\",\n          errorDiv: hasError(\"description\") ? \"text-danger\" : \"d-none\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Genres\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this), movie.genres && movie.genres.length > 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: Array.from(movie.genres).map((g, index) => /*#__PURE__*/_jsxDEV(Checkbox, {\n            title: g.genre,\n            name: \"genre\",\n            id: \"genre-\" + index,\n            onChange: event => handleCheck(event, index),\n            value: g.id,\n            checked: movie.genres[index].checked\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 17\n          }, this))\n        }, void 0, false), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this), movie.id > 0 && /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"#!\",\n          className: \"btn btn-danger ms-2\",\n          onClick: confirmDelete,\n          children: \"Delete Movie\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 7\n    }, this);\n  }\n};\n\n_s(EditMovie, \"TL8Qg5k0Fe0N4dMLZ8mwBvDOqKE=\", false, function () {\n  return [useNavigate, useOutletContext, useParams];\n});\n\n_c = EditMovie;\nexport default EditMovie;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditMovie\");","map":{"version":3,"names":["useEffect","useState","useNavigate","useOutletContext","useParams","Input","Select","TextArea","Checkbox","Swal","EditMovie","navigate","jwtToken","error","setError","errors","setErrors","mpaaOptions","id","value","hasError","key","indexOf","movie","setMovie","title","release_date","runtime","mpaa_rating","description","genres","genres_array","Array","fill","undefined","headers","Headers","append","requestOptions","method","fetch","then","response","json","data","checks","forEach","g","push","checked","genre","m","catch","err","console","log","status","Date","toISOString","split","handleSubmit","event","preventDefault","required","field","name","obj","length","fire","text","icon","confirmButtonText","requestBody","parseInt","body","JSON","stringify","credentials","handleChange","target","handleCheck","position","tmpArr","tmpIDs","splice","confirmDelete","showCancelButton","confirmButtonColor","cancelButtonColor","result","isConfirmed","message","from","map","index"],"sources":["D:/projects/n14/source/src/components/EditMovie.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useNavigate, useOutletContext, useParams } from \"react-router-dom\";\nimport Input from \"./form/Input\";\nimport Select from \"./form/Select\";\nimport TextArea from \"./form/TextArea\";\nimport Checkbox from \"./form/Checkbox\";\nimport Swal from \"sweetalert2\";\n\nconst EditMovie = () => {\n  const navigate = useNavigate();\n  const { jwtToken } = useOutletContext();\n\n  const [error, setError] = useState(null);\n  const [errors, setErrors] = useState([]);\n\n  const mpaaOptions = [\n    { id: \"G\", value: \"G\" },\n    { id: \"PG\", value: \"PG\" },\n    { id: \"PG13\", value: \"PG13\" },\n    { id: \"R\", value: \"R\" },\n    { id: \"NC17\", value: \"NC17\" },\n    { id: \"18A\", value: \"18A\" },\n  ];\n\n  const hasError = (key) => {\n    return errors.indexOf(key) !== -1;\n  };\n\n  const [movie, setMovie] = useState({\n    id: 0,\n    title: \"\",\n    release_date: \"\",\n    runtime: \"\",\n    mpaa_rating: \"\",\n    description: \"\",\n    genres: [],\n    genres_array: [Array(13).fill(false)],\n  });\n\n  // get id from the URL\n  let { id } = useParams();\n  if (id === undefined) {\n    id = 0;\n  }\n\n  useEffect(() => {\n    if (jwtToken === \"\") {\n      navigate(\"/login\");\n      return;\n    }\n\n    if (id === 0) {\n      // adding a movie\n      setMovie({\n        id: 0,\n        title: \"\",\n        release_date: \"\",\n        runtime: \"\",\n        mpaa_rating: \"\",\n        description: \"\",\n        genres: [],\n        genres_array: [Array(13).fill(false)],\n      });\n\n      const headers = new Headers();\n      headers.append(\"Content-Type\", \"application/json\");\n\n      const requestOptions = {\n        method: \"GET\",\n        headers: headers,\n      };\n\n      fetch(`/genres`, requestOptions)\n        .then((response) => response.json())\n        .then((data) => {\n          const checks = [];\n\n          data.forEach((g) => {\n            checks.push({ id: g.id, checked: false, genre: g.genre });\n          });\n\n          setMovie((m) => ({\n            ...m,\n            genres: checks,\n            genres_array: [],\n          }));\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    } else {\n      // editing an existing movie\n      const headers = new Headers();\n      headers.append(\"Content-Type\", \"application/json\");\n      headers.append(\"Authorization\", \"Bearer \" + jwtToken);\n\n      const requestOptions = {\n        method: \"GET\",\n        headers: headers,\n      };\n\n      fetch(`/admin/movies/${id}`, requestOptions)\n        .then((response) => {\n          if (response.status !== 200) {\n            setError(\"Invalid response code: \" + response.status);\n          }\n          return response.json();\n        })\n        .then((data) => {\n          // fix release date\n          data.movie.release_date = new Date(data.movie.release_date)\n            .toISOString()\n            .split(\"T\")[0];\n\n          const checks = [];\n\n          data.genres.forEach((g) => {\n            if (data.movie.genres_array.indexOf(g.id) !== -1) {\n              checks.push({ id: g.id, checked: true, genre: g.genre });\n            } else {\n              checks.push({ id: g.id, checked: false, genre: g.genre });\n            }\n          });\n\n          // set state\n          setMovie({\n            ...data.movie,\n            genres: checks,\n          });\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }, [id, jwtToken, navigate]);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    let errors = [];\n    let required = [\n      { field: movie.title, name: \"title\" },\n      { field: movie.release_date, name: \"release_date\" },\n      { field: movie.runtime, name: \"runtime\" },\n      { field: movie.description, name: \"description\" },\n      { field: movie.mpaa_rating, name: \"mpaa_rating\" },\n    ];\n\n    required.forEach(function (obj) {\n      if (obj.field === \"\") {\n        errors.push(obj.name);\n      }\n    });\n\n    if (movie.genres_array.length === 0) {\n      Swal.fire({\n        title: \"Error!\",\n        text: \"You must choose at least one genre!\",\n        icon: \"error\",\n        confirmButtonText: \"OK\",\n      });\n      errors.push(\"genres\");\n    }\n\n    setErrors(errors);\n\n    if (errors.length > 0) {\n      return false;\n    }\n\n    // passed validation, so save changes\n    const headers = new Headers();\n    headers.append(\"Content-Type\", \"application/json\");\n    headers.append(\"Authorization\", \"Bearer \" + jwtToken);\n\n    // assume we are adding a new movie\n    let method = \"PUT\";\n\n    if (movie.id > 0) {\n      method = \"PATCH\";\n    }\n\n    const requestBody = movie;\n    // we need to covert the values in JSON for release date (to date)\n    // and for runtime to int\n\n    requestBody.release_date = new Date(movie.release_date);\n    requestBody.runtime = parseInt(movie.runtime, 10);\n\n    let requestOptions = {\n      body: JSON.stringify(requestBody),\n      method: method,\n      headers: headers,\n      credentials: \"include\",\n    };\n\n    fetch(`/admin/movies/${movie.id}`, requestOptions)\n      .then((response) => response.json())\n      .then((data) => {\n        if (data.error) {\n          console.log(data.error);\n        } else {\n          navigate(\"/manage-catalogue\");\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const handleChange = () => (event) => {\n    let value = event.target.value;\n    let name = event.target.name;\n    setMovie({\n      ...movie,\n      [name]: value,\n    });\n  };\n\n  const handleCheck = (event, position) => {\n    console.log(\"handleCheck called\");\n    console.log(\"value in handleCheck:\", event.target.value);\n    console.log(\"checked is\", event.target.checked);\n    console.log(\"position is\", position);\n\n    let tmpArr = movie.genres;\n    tmpArr[position].checked = !tmpArr[position].checked;\n\n    let tmpIDs = movie.genres_array;\n    if (!event.target.checked) {\n      tmpIDs.splice(tmpIDs.indexOf(event.target.value));\n    } else {\n      tmpIDs.push(parseInt(event.target.value, 10));\n    }\n\n    setMovie({\n      ...movie,\n      genres_array: tmpIDs,\n    });\n  };\n\n  const confirmDelete = () => {\n    Swal.fire({\n        title: 'Delete movie?',\n        text: \"You cannot undo this action!\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Yes, delete it!'\n      }).then((result) => {\n        if (result.isConfirmed) {\n            let headers = new Headers();\n            headers.append(\"Authorization\", \"Bearer \" + jwtToken)\n\n            const requestOptions = {\n                method: \"DELETE\",\n                headers: headers,\n            }\n\n          fetch(`/admin/movies/${movie.id}`, requestOptions)\n            .then((response) => response.json())\n            .then((data) => {\n                if (data.error) {\n                    console.log(data.error);\n                } else {\n                    navigate(\"/manage-catalogue\");\n                }\n            })\n            .catch(err => {console.log(err)});\n        }\n      })\n  }\n\n  if (error !== null) {\n    return <div>Error: {error.message}</div>;\n  } else {\n    return (\n      <div>\n        <h2>Add/Edit Movie</h2>\n        <hr />\n        {/* <pre>{JSON.stringify(movie, null, 3)}</pre> */}\n\n        <form onSubmit={handleSubmit}>\n          <input type=\"hidden\" name=\"id\" value={movie.id} id=\"id\"></input>\n\n          <Input\n            title={\"Title\"}\n            className={\"form-control\"}\n            type={\"text\"}\n            name={\"title\"}\n            value={movie.title}\n            onChange={handleChange(\"title\")}\n            errorDiv={hasError(\"title\") ? \"text-danger\" : \"d-none\"}\n            errorMsg={\"Please enter a title\"}\n          />\n\n          <Input\n            title={\"Release Date\"}\n            className={\"form-control\"}\n            type={\"date\"}\n            name={\"release_date\"}\n            value={movie.release_date}\n            onChange={handleChange(\"release_date\")}\n            errorDiv={hasError(\"release_date\") ? \"text-danger\" : \"d-none\"}\n            errorMsg={\"Please enter a release date\"}\n          />\n\n          <Input\n            title={\"Runtime\"}\n            className={\"form-control\"}\n            type={\"text\"}\n            name={\"runtime\"}\n            value={movie.runtime}\n            onChange={handleChange(\"runtime\")}\n            errorDiv={hasError(\"runtime\") ? \"text-danger\" : \"d-none\"}\n            errorMsg={\"Please enter a runtime\"}\n          />\n\n          <Select\n            title={\"MPAA Rating\"}\n            name={\"mpaa_rating\"}\n            options={mpaaOptions}\n            value={movie.mpaa_rating}\n            onChange={handleChange(\"mpaa_rating\")}\n            placeHolder={\"Choose...\"}\n            errorMsg={\"Please choose\"}\n            errorDiv={hasError(\"mpaa_rating\") ? \"text-danger\" : \"d-none\"}\n          />\n\n          <TextArea\n            title=\"Description\"\n            name={\"description\"}\n            value={movie.description}\n            rows={\"3\"}\n            onChange={handleChange(\"description\")}\n            errorMsg={\"Please enter a description\"}\n            errorDiv={hasError(\"description\") ? \"text-danger\" : \"d-none\"}\n          />\n\n          <hr />\n\n          <h3>Genres</h3>\n\n          {movie.genres && movie.genres.length > 1 && (\n            <>\n              {Array.from(movie.genres).map((g, index) => (\n                <Checkbox\n                  title={g.genre}\n                  name={\"genre\"}\n                  key={index}\n                  id={\"genre-\" + index}\n                  onChange={(event) => handleCheck(event, index)}\n                  value={g.id}\n                  checked={movie.genres[index].checked}\n                />\n              ))}\n            </>\n          )}\n\n          <hr />\n\n          <button className=\"btn btn-primary\">Save</button>\n\n          {movie.id > 0 && (\n            <a href=\"#!\" className=\"btn btn-danger ms-2\" onClick={confirmDelete}>\n              Delete Movie\n            </a>\n          )}\n        </form>\n      </div>\n    );\n  }\n};\n\nexport default EditMovie;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}